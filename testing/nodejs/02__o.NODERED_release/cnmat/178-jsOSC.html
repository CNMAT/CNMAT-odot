<!-- /* * * *
      * OSC <===> JSON // Node-Red Module
      *
      * Written by Ilya Rostovtsev The Center for New Music and Audio Technologies,
      * University of California, Berkeley.  Copyright (c) 2014-ll, The Regents of
      * the University of California (Regents). 
      *
      * Permission to use, copy, modify, distribute, and distribute modified versions
      * of this software and its documentation without fee and without a signed
      * licensing agreement, is hereby granted, provided that the above copyright
      * notice, this paragraph and the following two paragraphs appear in all copies,
      * modifications, and distributions.
      *
      * IN NO EVENT SHALL REGENTS BE LIABLE TO ANY PARTY FOR DIRECT, INDIRECT,
      * SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, INCLUDING LOST PROFITS, ARISING
      * OUT OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION, EVEN IF REGENTS HAS
      * BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
      * 
      * REGENTS SPECIFICALLY DISCLAIMS ANY WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
      * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
      * PURPOSE. THE SOFTWARE AND ACCOMPANYING DOCUMENTATION, IF ANY, PROVIDED
      * HEREUNDER IS PROVIDED "AS IS". REGENTS HAS NO OBLIGATION TO PROVIDE
      * MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS, OR MODIFICATIONS.
      * * * * -->

<!-- osc2json node -->
<script type="text/x-red" data-template-name="osc2json">
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<script type="text/x-red" data-help-name="osc2json">
    <p>Converts a NODEjs Buffer to a JSON representation of OSC.</p> 
    <p>INPUT: a message with a <code>.payload</code> containing the serialized OSC bundle.</p>   
    <p>OUTPUT: a msg with a <code>.payload</code> containing a JSON representation of an OSC bundle;</p>  
</script>

<script type="text/javascript">
    RED.nodes.registerType('osc2json',{
        color:"#B0C6D9",
        category: 'function',   
        defaults: {             
            name: {value:""},   
            topic: {value:"", required:false}
        },
        inputs:1,               
        outputs:1,              
        icon: "cnmat.png",    
        label: function() {    
            return this.name||this.topic||"osc2json";
        },
        labelStyle: function() { // sets the class to apply to the label
            return this.name?"node_label_italic":"";
        }
    });
</script>




<!-- json2osc node -->
<script type="text/x-red" data-template-name="json2osc">
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<script type="text/x-red" data-help-name="json2osc">
    <p>Converts a JSON representation of OSC into a NODEjs Buffer.</p>
    <p>INPUT: a msg with a <code>.payload</code> containing a JSON representation of an OSC bundle;</p> 
    <p>OUTPUT: a message with a <code>.payload</code> containing the serialized OSC bundle.</p>   
</script>

<script type="text/javascript">
    RED.nodes.registerType('json2osc',{
        color:"#B0C6D9",
        category: 'function',      
        defaults: {            
            name: {value:""}, 
            topic: {value:"", required:false}
        },
        inputs:1,               
        outputs:1,             
        icon: "cnmat.png",    
        label: function() {     
            return this.name||this.topic||"json2osc";
        },
        labelStyle: function() { // sets the class to apply to the label
            return this.name?"node_label_italic":"";
        }
    });
</script>